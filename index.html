<!DOCTYPE html>
<html>

<head>
    <title>Example</title>
    <script src="https://unpkg.com/coreapi@latest/dist/coreapi.js"></script>
    <meta charset="utf-8"/>
</head>

<body>
    <h1>Hello!</h1>
    <h3 id="response">Status (waiting)</h3>
    <script type="text/javascript">
        var coreapi = window.coreapi;
        var client = new coreapi.Client();
        var schema = window.schema
        // Examples
        // Text: http://www.mocky.io/v2/582321ea1000008610ccfea6
        // JSON: http://www.mocky.io/v2/582321ba1000006310ccfea5
       /*
        client.get("http://www.mocky.io/v2/582321ea1000008610ccfea6")
            .then(function (data) {
                var responseElement = document.getElementById("response");
                if (typeof data === 'string') {
                    responseElement.innerText = 'Text: ' + data;
                } else if (typeof data === 'object') {
                    responseElement.innerText = 'JSON: ' + JSON.stringify(data);
                }
            })
            .catch(function (error) {
                console.log("ERROR: ", error);
            });
        */


// Initialize a client
var client = new coreapi.Client()

/*
// Interact with the API endpoint
var action = ["abilities", "list"]
client.action(schema, action).then(function(result) {
    console.log(result);// Return value is in 'result'
})
*/

client.get("https://swgoh.gg/api/ships/?format=json").then(function (data) {
                console.log(data);

                var responseElement = document.getElementById("response");
                //if (typeof data === 'string') {
                //    responseElement.innerText = 'Text: ' + data;
               // } else if (typeof data === 'object') {
                    responseElement.innerText = 'JSON: ' + JSON.stringify(data);
               // }
            })

    </script>
</body>

</html>